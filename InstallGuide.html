<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.3 at Aug 23, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>FatWire GST: Site Foundation - </title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120823" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                FatWire GST: Site Foundation
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
            
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-08-23</span>
                  &nbsp;| <span id="projectVersion">Version: 11.0-SNAPSHOT</span>
                      </div>
            <div class="xright">        
            
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
            
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="gsf-facades/index.html" title="Facades">Facades</a>
            </li>
                  <li class="none">
                          <a href="gsf-groovy/index.html" title="Groovy">Groovy</a>
            </li>
                  <li class="none">
                          <a href="gsf-action/index.html" title="Actions">Actions</a>
            </li>
                  <li class="none">
                          <a href="gsf-taglib/index.html" title="JSP taglib">JSP taglib</a>
            </li>
                  <li class="none">
                          <a href="gsf-wra/index.html" title="WRA">WRA</a>
            </li>
                  <li class="none">
                          <a href="gsf-tagging/index.html" title="Tagging">Tagging</a>
            </li>
                  <li class="none">
                          <a href="gsf-cs-test/index.html" title="Testing">Testing</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                                                <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                        <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
            
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!--  --><!-- Copyright 2010 FatWire Corporation. All Rights Reserved. --><!--  --><!-- Licensed under the Apache License, Version 2.0 (the "License"); --><!-- you may not use this file except in compliance with the License. --><!-- You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!--  --><div class="section"><h2>Installation Guide<a name="Installation_Guide"></a></h2><p>The minimal installation guide exists of these steps:</p><ol style="list-style-type: decimal"><li>Download .<tt>gst-foundation-all-XXX.jar</tt> from the <a class="externalLink" href="http://www.nl.fatwire.com/maven2/com/fatwire/gst/gst-foundation-all/">http://www.nl.fatwire.com/maven2/com/fatwire/gst/gst-foundation-all/</a>.<p>Download <a class="externalLink" href="http://repo1.maven.org/maven2/org/tuckey/urlrewritefilter/3.2.0/urlrewritefilter-3.2.0.jar">http://repo1.maven.org/maven2/org/tuckey/urlrewritefilter/3.2.0/urlrewritefilter-3.2.0.jar</a> if you are not using webserver rewriting rules</p><p>Download <a class="externalLink" href="http://repo1.maven.org/maven2/javax/servlet/jstl/1.2/jstl-1.2.jar">http://repo1.maven.org/maven2/javax/servlet/jstl/1.2/jstl-1.2.jar</a> if your servlet engine does not come with jstl prepackaged. Tomcat6 needs this file for instance.</p><p>Download <a class="externalLink" href="http://repo1.maven.org/maven2/org/codehaus/groovy/groovy-all/1.7.10/groovy-all-1.7.10.jar">http://repo1.maven.org/maven2/org/codehaus/groovy/groovy-all/1.7.10/groovy-all-1.7.10.jar</a> for groovy support. Please check that there are no other (older) groovy versions in WEB-INF/lib or the classpath.</p><p>The repo1.maven.org website has blocked traffic for wget based on their useragent string. To bypass this you can set the user-agent string manually, add <i>-U downloader</i> to set the UserAgent header to downloader. </p><p><tt>wget -U downloader http://www.nl.fatwire.com/maven2/com/fatwire/gst/gst-foundation-all/1.2/gst-foundation-all-1.2.jar</tt></p><p><tt>wget -U downloader http://repo1.maven.org/maven2/org/tuckey/urlrewritefilter/3.2.0/urlrewritefilter-3.2.0.jar</tt></p><p><tt>wget -U downloader http://repo1.maven.org/maven2/javax/servlet/jstl/1.2/jstl-1.2.jar</tt></p><p><tt>wget -U downloader http://repo1.maven.org/maven2/org/codehaus/groovy/groovy-all/1.7.10/groovy-all-1.7.10.jar</tt></p></li><li>Deploy these downloaded jars to cs/WEB-INF/lib.</li><li>Import the ElementCatalog and SiteCatalog with CatalogManager from <a class="externalLink" href="http://www.nl.fatwire.com/maven2/com/fatwire/gst/gst-foundation-all/}http://www.nl.fatwire.com/maven2/com/fatwire/gst/gst-foundation-all/XXX/gst-foundation-all-XXX-elements.zip">http://www.nl.fatwire.com/maven2/com/fatwire/gst/gst-foundation-all/}http://www.nl.fatwire.com/maven2/com/fatwire/gst/gst-foundation-all/<i>XXX</i>/gst-foundation-all-<i>XXX</i>-elements.zip</a>:</li><li>Login into Advanced UI with an xceladmin ACL enabled user. Change to <a class="externalLink" href="http://localhost:8080/cs/ContentServer?pagename=GST/Foundation/Installer">http://localhost:8080/cs/ContentServer?pagename=GST/Foundation/Installer</a>. Follow the instructions on the page.</li><li>For each CS environment, set the java startup system property <i>com.fatwire.gst.foundation.env-name</i> (i.e. in the application server startup script). For example,<p><tt>-Dcom.fatwire.gst.foundation.env-name=fatwire-dev</tt></p></li><li>In ContentServer, create a Virtual Webroot (GSTVirtualWebroot) asset for each site. <p>The 'Environment Name' attribute must match the com.fatwire.gst.foundation.env-name property from step #5.</p></li><li>Install and configure Tuckey URLRewrite. A complete sample urlrewrite.xml for a Content Server 7.6 JSK is avaiable for <a href="./deploy/urlrewrite.xml">reference</a> This sample assumes that two http ports are configured and that only traffic on port 8280 is rewritten. Normal editoral work is done on port 8180, GSF Preview is done on port 8280.<p>Alternatively you can configure a virtual host on Apache httpd server. This is the advised setup for production systems. A sample virtual host config file can be found here: <a href="./deploy/mydomain.conf">./deploy/mydomain.conf</a>.</p></li><li>Add the following lines to your web.xml and restart the application server.<div><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
        version=&quot;2.4&quot;
        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;

[...]
        &lt;listener&gt;
                &lt;listener-class&gt;com.fatwire.gst.foundation.controller.support.WebAppContextLoader&lt;/listener-class&gt;
        &lt;/listener&gt;


        &lt;!-- the  HttpStatusHeaderFilter is used for http repsonse code support, it must also be deployed on Remote Satellite Server --&gt;

        &lt;filter&gt;
                &lt;filter-name&gt;HttpStatusHeaderFilter&lt;/filter-name&gt;
                &lt;filter-class&gt;com.fatwire.gst.foundation.httpstatus.HttpResponseStatusFilter&lt;/filter-class&gt;
        &lt;/filter&gt;

        &lt;filter-mapping&gt;
                &lt;filter-name&gt;HttpStatusHeaderFilter&lt;/filter-name&gt;
                &lt;servlet-name&gt;Satellite&lt;/servlet-name&gt;
                &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;
                &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;
        &lt;/filter-mapping&gt;

[..]

&lt;/web-app&gt;</pre></div></li><li>If you want to use Tuckey, add these lines<div><pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;
&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
        version=&quot;2.4&quot;
        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;&gt;

[...]

        &lt;!-- tuckey is only needed for deployment on a development, when no webserver with rewriting capabilities is available. --&gt;

        &lt;filter&gt;
                &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;
                &lt;filter-class&gt;org.tuckey.web.filters.urlrewrite.UrlRewriteFilter&lt;/filter-class&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;confReloadCheckInterval&lt;/param-name&gt;
                        &lt;param-value&gt;0&lt;/param-value&gt;
                &lt;/init-param&gt;
                &lt;init-param&gt;
                        &lt;param-name&gt;logLevel&lt;/param-name&gt;
                        &lt;param-value&gt;log4j&lt;/param-value&gt;
                &lt;/init-param&gt;
        &lt;/filter&gt;

        &lt;filter-mapping&gt;
                &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;
                 &lt;url-pattern&gt;/*&lt;/url-pattern&gt; 
                &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;
        &lt;/filter-mapping&gt; 

[..]

&lt;/web-app&gt;</pre></div></li><li>Read further instructions on how to use GSF. A good starter is the GSF Beginners Guide.</li><li>If you want to use Spring to congigure the Action framework, please check the <a href="#InstallGuide_-_Spring.html">InstallGuide - Spring.html</a>..</li></ol></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2010-2012.
          All Rights Reserved.      
            
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
